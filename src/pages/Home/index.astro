---
import Dashboard from "../../layouts/Dashboard.astro";

import '../../components/SmalCompents/DropDown.css'

// Dropdown Content

import Clock from "../../components/SmalCompents/Clock.astro";
import WhiteBoard from "../../components/SmalCompents/Whitebroad.astro"
---


<Dashboard title='Home'>
<div id="ContentTape">

  <div id="Housing">
    <div class="dropdown">
      <button onclick="toggleDropdown('clock')" class="dropbtn1">Clock</button>
      <button onclick="toggleDropdown('clock')" class="Arrowbox">
        <div class="Arrow">V</div>
      </button>
      <div id="clockDropdown" class="dropdown-content1">
        <Clock />
      </div>
    </div>
  </div>
  
  <div id="Housing">
    <div class="dropdown">
      <button onclick="toggleDropdown('whiteboard')" class="dropbtn1">WhiteBoard</button>
      <button onclick="toggleDropdown('whiteboard')" class="Arrowbox">
        <div class="Arrow">V</div>
      </button>
      <div id="whiteboardDropdown" class="dropdown-content1">
        <WhiteBoard />
      </div>
    </div>
  </div>

  <div id="Housing">
    <div class="dropdown">
      <button onclick="toggleDropdown('p1')" class="dropbtn1">PlaceHolder</button>
      <button onclick="toggleDropdown('p1')" class="Arrowbox">
        <div class="Arrow">V</div>
      </button>
      <div id="p1Dropdown" class="dropdown-content1">
        <WhiteBoard />
      </div>
    </div>
  </div>

  <div id="Housing">
    <div class="dropdown">
      <button onclick="toggleDropdown('p2')" class="dropbtn1">Placeholder</button>
      <button onclick="toggleDropdown('p2')" class="Arrowbox">
        <div class="Arrow">V</div>
      </button>
      <div id="p2Dropdown" class="dropdown-content1">
        <WhiteBoard />
      </div>
    </div>
  </div>

  <div id="Housing">
    <div class="dropdown">
      <button onclick="toggleDropdown('p3')" class="dropbtn1">Placeholder</button>
      <button onclick="toggleDropdown('p3')" class="Arrowbox">
        <div class="Arrow">V</div>
      </button>
      <div id="p3Dropdown" class="dropdown-content1">
        <WhiteBoard />
      </div>
    </div>
  </div>

</div> <!-- Part of id="ContentTape" -->
</Dashboard>

<style>  
#ContentTape{
  display: flex;
  justify-content: center; 
  align-items: start; 
  flex-wrap: wrap; 
}

#Housing {
  margin-right: 20px;
  margin-bottom: 20px;
}
</style>

<script lang="JS">
  function toggleDropdown(dropdownId) {
    const dropdownContent = document.getElementById(`${dropdownId}Dropdown`);
    dropdownContent.classList.toggle("show");

    const arrow = event.currentTarget.parentElement.querySelector('.Arrow');
    if (arrow) { // Check if arrow exists
      if (arrow.classList.contains('flipped')) {
        arrow.classList.remove('flipped');
        arrow.classList.add('unflipped');
      } else {
        arrow.classList.remove('unflipped');
        arrow.classList.add('flipped');
      }
    }
  }

  window.onclick = function(event) {
    if (!event.target.closest('.dropdown-content1') && !event.target.closest('.dropdown')) {
      const dropdownContents = document.querySelectorAll(".dropdown-content1");
      dropdownContents.forEach(content => {
        if (content.classList.contains('show')) {
          content.classList.remove('show');
        }
      });

      const arrows = document.querySelectorAll('.Arrow.flipped');
      arrows.forEach(arrow => {
        arrow.classList.remove('flipped');
        arrow.classList.add('unflipped');
      });
    }
  };
</script>
